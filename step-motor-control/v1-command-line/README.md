# ステッピングモーター角度制御 v1（シリアル通信版）

28BYJ-48ステッピングモーターをUSBシリアル通信で制御する基本バージョンです。

## 🎯 こんな方におすすめ

- Arduinoプログラミング初心者
- 有線接続で問題ない方
- Arduino UNO R3をお使いの方
- シンプルな制御を求める方

## 📋 必要なもの

### ハードウェア
- Arduino（UNO R3/R4、Nano、Megaなど）
- 28BYJ-48 ステッピングモーター
- ULN2003 ドライバーボード
- ジャンパーワイヤー 6本
- USBケーブル

### ソフトウェア
- Arduino IDE
- AccelStepperライブラリ

## 🔌 配線

```
Arduino  →  ULN2003
Pin 8    →  IN1
Pin 9    →  IN2
Pin 10   →  IN3
Pin 11   →  IN4
5V       →  VCC (赤)
GND      →  GND (黒)
```

## 💻 セットアップ

1. **ライブラリのインストール**
   - Arduino IDEを開く
   - スケッチ → ライブラリをインクルード → ライブラリを管理
   - 「AccelStepper」を検索してインストール

2. **プログラムの書き込み**
   - `main.ino`を開く
   - ボードとポートを選択
   - 書き込みボタンをクリック

## 🎮 使い方

1. シリアルモニターを開く（Ctrl+Shift+M）
2. ボーレートを9600に設定
3. コマンドを入力して送信

### コマンド例
```
a90   → 90度の位置へ移動
a180  → 180度の位置へ移動
r45   → 現在位置から45度回転
r-30  → 現在位置から-30度（反時計回り）
z     → 現在位置を0度にリセット
s     → ステータス表示
```

## ⚙️ カスタマイズ

### 速度を変更したい場合
```cpp
// main.ino内の以下の値を変更
float currentSpeed = 1000.0;      // 最大速度（steps/sec）
float currentAcceleration = 500.0; // 加速度（steps/sec²）
```

### ピン配置を変更したい場合
```cpp
// main.ino内の以下を変更
#define MOTOR_PIN1 8
#define MOTOR_PIN2 9
#define MOTOR_PIN3 10
#define MOTOR_PIN4 11
```

## 🔧 トラブルシューティング

### モーターが動かない
- 配線を再確認（特に5VとGNDの接続）
- シリアルモニターでエラーメッセージを確認
- 別の電源（外部5V）を試す

### 動きがカクカクする
- 速度を下げる：`v1`または`v2`コマンド
- USBハブを使わず直接接続

### 位置がずれる
- 負荷が大きすぎる可能性
- より低速の設定を使用：`v1`

## 📝 技術仕様

- **ステップ角**: 5.625度 / 64（ギア比）
- **1回転**: 4096ステップ
- **駆動方式**: ハーフステップ（8相励磁）
- **推奨電圧**: 5V
- **消費電流**: 約200mA（動作時）